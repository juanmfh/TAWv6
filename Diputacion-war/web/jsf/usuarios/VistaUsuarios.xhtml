<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
  <h:head>
    <title>Listado de usuarios</title>

    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="../../bootstrap/css/style.css" />

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="../../bootstrap/js/bootstrap.js"></script>
  </h:head>

  <h:body class="light">
    <div class="container-fluid">
      <div class="row-fluid">
      <div class="span3 well">
        <h:form class="form">
          <fieldset>
            <legend>Nuevo usuario</legend>
            <label>${msg['nombre']}</label>
            <h:inputText id="nombre" value="#{ctrVistaUsuarios.nombre}"/>
            
            <label>${msg['apellido1']}</label>
            <h:inputText id="apellido1"  value="#{ctrVistaUsuarios.apellido1}"/>
            
            <label>${msg['apellido2']}</label>
            <h:inputText id="apellido2"  value="#{ctrVistaUsuarios.apellido2}"/>
            
            <label>${msg['dni']}</label>
            <h:inputText id="dni"  value="#{ctrVistaUsuarios.dni}"/>
            
            <label>${msg['password']}</label>
            <h:inputText id="password"  value="#{ctrVistaUsuarios.password}"/>
            
            <label>${msg['municipio']}</label>
            <h:inputText id="municipio"  value="#{ctrVistaUsuarios.municipio}"/>
            
            <label>${msg['nick']}</label>
            <h:inputText id="nick"  value="#{ctrVistaUsuarios.nick}"/>
          </fieldset>
          
          <div class="form-actions">
            <h:commandButton class="btn btn-primary" value="Guardar" action="#{ctrVistaUsuarios.crearUsuario()}"></h:commandButton>
            <button class="btn">Borrar</button>
          </div>
        </h:form>
      </div>
      
      <div class="span9">
        <div class="well row-fluid">
          <h1 class="span10">Listado de usuarios</h1>
          <div class="span2"><h:form><h:commandButton class="btn btn-inverse btn-large" action="#{ctrVistaUsuarios.volver()}" value="#{msg['volver']}"></h:commandButton></h:form></div>
        </div>
        <table class="table table-condensed table-bordered table-hover">
          <thead>
            <tr>
              <th>#{msg['nombre']}</th>
              <th>#{msg['apellido1']}</th>
              <th>#{msg['apellido2']}</th>
              <th>#{msg['dni']}</th>
              <th>#{msg['municipio']}</th>
              <th>#{msg['nick']}</th>
            </tr>
          </thead>
          <tbody>
            <c:forEach items="${ctrVistaUsuarios.usuarios}" var="usuario">

              <c:choose>
                <c:when test="${usuario.idusuario != null}">
                  <tr>
                    <td>${usuario.nombre}</td>
                    <td>${usuario.apellido1}</td>
                    <td>${usuario.apellido2}</td>
                    <td>${usuario.dni}</td>
                    <td>${usuario.municipio}</td>
                    <td>${usuario.nick}</td>
                  </tr>
                </c:when>
              </c:choose>
            </c:forEach>
          </tbody>
        </table>
      </div>
      </div>
    </div>
  </h:body>
</html>
