<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>#{msg['gruposRescate']}</title>
        <link href="../../bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body>
        <div class="container">
            <h1>#{msg['modificarGrupoRescate']}</h1>
            <h:form id="EliminarUsuarios">
                <fieldset>
                    <legend>#{msg['relleneLosSiguientesCampos']}:</legend>
                    <h:outputText value="#{msg['localizacion']}:"></h:outputText>
                    <br/>
                    <h:inputText value="#{ctrVistaGrupos_Rescate.localizacion}"/>
                    <legend>#{msg['usuariosPertenecenGrupo']} ${ctrVistaGrupos_Rescate.selectedGroup.idgrupoRescate}:</legend>
                    <div class="row">  
                        <h:dataTable value="${ctrVistaGrupos_Rescate.selectedGroup.usuarioCollection}" var="user" styleClass="table table-condensed table-bordered table-hover">
                            <caption>#{msg['listaUsuarios']}</caption>
                            <h:column>
                                <f:facet name="header">#{msg['nombre']}</f:facet>
                                <h:outputText value="${user.nombre}"/>                    
                            </h:column>
                            <h:column>
                                <f:facet name="header">#{msg['nick']}</f:facet>
                                <h:outputText value="${user.nick}"/>                    
                            </h:column>
                            <h:column>
                                <f:facet name="header">#{msg['grupoAsignado']}</f:facet>
                                <h:outputText value="${user.grupoRescateidgrupoRescate.idgrupoRescate}"/>                    
                            </h:column>
                            <h:column>
                                <f:facet name="header">#{msg['eliminarDelGrupo']}</f:facet>
                                <h:commandLink styleClass="btn" action="#{ctrVistaGrupos_Rescate.eliminarUsuario}" >
                                    <f:setPropertyActionListener value="#{user}" target="#{ctrVistaGrupos_Rescate.selectedUser}"/>
                                    <i class="icon-trash"></i>
                                </h:commandLink>              
                            </h:column>
                        </h:dataTable> 
                    </div>                
                    <br/>
                    <div class="row"> 
                        <legend>#{msg['anadirUsuarios']}</legend>
                        <h:dataTable value="#{ctrVistaGrupos_Rescate.usuarios}" var="item" styleClass="table table-condensed table-bordered table-hover">
                            <caption>#{msg['usuariosDisponibles']}</caption>
                            <h:column>
                                <f:facet name="header">#{msg['seleccionado']}</f:facet>
                                <h:selectBooleanCheckbox value="#{ctrVistaGrupos_Rescate.seleccionados[item.idusuario]}"/>   
                            </h:column>
                            <h:column>
                                <f:facet name="header">#{msg['nombre']}</f:facet>
                                <h:outputText value="#{item.nombre}"/>                    
                            </h:column>
                            <h:column>
                                <f:facet name="header">#{msg['nick']}</f:facet>
                                <h:outputText value="#{item.nick}"/>                    
                            </h:column>
                            <h:column>
                                <f:facet name="header">#{msg['grupoAsignado']}</f:facet>
                                <h:outputText value="#{item.grupoRescateidgrupoRescate.idgrupoRescate}"/>                    
                            </h:column>
                        </h:dataTable>

                    </div>
                    <div class="row ">
                        <h:commandButton value="#{msg['aceptar']}" class="btn btn-primary" action="#{ctrVistaGrupos_Rescate.modificarGrupo()}"/>
                        <h:link class="btn btn-infobtn offset2"  value="#{msg['volver']}" outcome="VistaGrupos_Rescate"></h:link>
                    </div>
                </fieldset> 
            </h:form>
        </div>
        <h:outputScript name="http://code.jquery.com/jquery.js"/>
        <h:outputScript name="../../bootstrap/js/bootstrap.js" />
    </h:body>
</html>